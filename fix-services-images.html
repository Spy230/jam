<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–∫—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —É—Å–ª—É–≥</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0d0d0f;
            color: #fff;
            padding: 40px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            color: #ff2a6d;
            margin-bottom: 30px;
        }
        .log {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 42, 109, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 400px;
            overflow-y: auto;
        }
        .log-entry {
            margin: 5px 0;
            padding: 5px;
        }
        .success {
            color: #00ff00;
        }
        .error {
            color: #ff0000;
        }
        .info {
            color: #00bfff;
        }
        .warning {
            color: #ffa500;
        }
        button {
            background: linear-gradient(45deg, #ff2a6d, #c2185b);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 42, 109, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ñ–∏–∫—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —É—Å–ª—É–≥</h1>
        
        <button onclick="runDiagnostics()">üîç –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É</button>
        <button onclick="clearLog()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
        <button onclick="window.location.href='index.html'">üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
        
        <div class="log" id="log"></div>
    </div>

    <script>
        const logDiv = document.getElementById('log');

        function log(message, type = 'info') {
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
            console.log(message);
        }

        function clearLog() {
            logDiv.innerHTML = '';
        }

        async function runDiagnostics() {
            clearLog();
            log('=== –ù–ê–ß–ê–õ–û –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò ===', 'info');
            log('', 'info');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –¢–µ–∫—É—â–∏–π URL
            log(`üìç –¢–µ–∫—É—â–∏–π URL: ${window.location.href}`, 'info');
            log(`üìç –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å: ${window.location.origin}`, 'info');
            log('', 'info');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ù–∞–ª–∏—á–∏–µ Swiper
            log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Swiper...', 'info');
            if (typeof Swiper !== 'undefined') {
                log('‚úÖ Swiper –∑–∞–≥—Ä—É–∂–µ–Ω', 'success');
            } else {
                log('‚ùå Swiper –ù–ï –∑–∞–≥—Ä—É–∂–µ–Ω!', 'error');
                log('‚ö†Ô∏è –ó–∞–≥—Ä—É–∂–∞–µ–º Swiper...', 'warning');
                await loadSwiper();
            }
            log('', 'info');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            log('üñºÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —É—Å–ª—É–≥...', 'info');
            const images = [
                'images/mod/services/CLASSIC.png',
                'images/mod/services/VIP.png',
                'images/mod/services/SILVER.png',
                'images/mod/services/EXPRESS.png',
                'images/mod/services/–û–ë–©–ï–ù–ò–ï.png'
            ];

            let successCount = 0;
            let errorCount = 0;

            for (const imgPath of images) {
                const result = await checkImage(imgPath);
                if (result.success) {
                    log(`‚úÖ ${imgPath} - OK (${result.width}x${result.height}px)`, 'success');
                    successCount++;
                } else {
                    log(`‚ùå ${imgPath} - –û–®–ò–ë–ö–ê: ${result.error}`, 'error');
                    errorCount++;
                }
            }

            log('', 'info');
            log(`üìä –†–µ–∑—É–ª—å—Ç–∞—Ç: ${successCount} —É—Å–ø–µ—à–Ω–æ, ${errorCount} –æ—à–∏–±–æ–∫`, successCount === images.length ? 'success' : 'warning');
            log('', 'info');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: CSS
            log('üé® –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS...', 'info');
            const cssLoaded = document.querySelector('link[href*="custom-styles.css"]');
            if (cssLoaded) {
                log('‚úÖ custom-styles.css –ø–æ–¥–∫–ª—é—á–µ–Ω', 'success');
            } else {
                log('‚ùå custom-styles.css –ù–ï –ø–æ–¥–∫–ª—é—á–µ–Ω!', 'error');
            }
            log('', 'info');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: JavaScript
            log('üìú –ü—Ä–æ–≤–µ—Ä–∫–∞ JavaScript...', 'info');
            const jsLoaded = document.querySelector('script[src*="custom-scripts.js"]');
            if (jsLoaded) {
                log('‚úÖ custom-scripts.js –ø–æ–¥–∫–ª—é—á–µ–Ω', 'success');
            } else {
                log('‚ùå custom-scripts.js –ù–ï –ø–æ–¥–∫–ª—é—á–µ–Ω!', 'error');
            }
            log('', 'info');

            // –ò—Ç–æ–≥–æ–≤—ã–π –≤–µ—Ä–¥–∏–∫—Ç
            if (successCount === images.length) {
                log('üéâ –í–°–ï –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø –ó–ê–ì–†–£–ñ–ê–Æ–¢–°–Ø –ö–û–†–†–ï–ö–¢–ù–û!', 'success');
                log('', 'info');
                log('üí° –ï—Å–ª–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã:', 'warning');
                log('   1. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)', 'warning');
                log('   2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—á–∏—Å—Ç–∫–æ–π –∫–µ—à–∞ (Ctrl+F5)', 'warning');
                log('   3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏', 'warning');
            } else {
                log('‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù–´ –ü–†–û–ë–õ–ï–ú–´ –° –ó–ê–ì–†–£–ó–ö–û–ô –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô', 'error');
                log('', 'info');
                log('üîß –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:', 'warning');
                log('   1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ø–∞–ø–∫–µ images/mod/services/', 'warning');
                log('   2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º', 'warning');
                log('   3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'warning');
            }

            log('', 'info');
            log('=== –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê ===', 'info');
        }

        function checkImage(src) {
            return new Promise((resolve) => {
                const img = new Image();
                
                img.onload = function() {
                    resolve({
                        success: true,
                        width: this.naturalWidth,
                        height: this.naturalHeight
                    });
                };
                
                img.onerror = function() {
                    resolve({
                        success: false,
                        error: '–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω'
                    });
                };
                
                img.src = src;
            });
        }

        function loadSwiper() {
            return new Promise((resolve, reject) => {
                const link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css';
                document.head.appendChild(link);

                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js';
                script.onload = () => {
                    log('‚úÖ Swiper —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω', 'success');
                    resolve();
                };
                script.onerror = () => {
                    log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ Swiper', 'error');
                    reject();
                };
                document.body.appendChild(script);
            });
        }

        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            log('üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.', 'info');
        });
    </script>
</body>
</html>
